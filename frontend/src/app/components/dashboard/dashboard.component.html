<app-layout>
  <div class="main-container">
    <div class="page-header">
  <h2>Panel Full 7x24</h2>
    </div>

    <div class="content-wrapper">
  <div class="card">
    <h2 class="card-title">Bienvenido, {{ usuario()?.nombre }}!</h2>
    <p>Rol: <strong>{{ usuario()?.rol }}</strong></p>
  </div>

  @if (loading()) {
    <div class="loading">
      <div class="spinner"></div>
    </div>
  } @else {
    <div class="dashboard-grid">
      <div class="dashboard-card">
        <h3 class="dashboard-card-title">Total Productos</h3>
        <p class="dashboard-card-value">{{ totalProductos() }}</p>
        <a routerLink="/productos" class="btn btn-primary mt-2">Ver Productos</a>
      </div>

      <div class="dashboard-card">
        <h3 class="dashboard-card-title">Total Ventas</h3>
        <p class="dashboard-card-value">${{ totalVentas().toFixed(2) }}</p>
        <a routerLink="/ventas" class="btn btn-success mt-2">Ver Ventas</a>
      </div>

      <div class="dashboard-card">
        <h3 class="dashboard-card-title">Stock Bajo</h3>
        <p class="dashboard-card-value">{{ stockBajo() }}</p>
        <a routerLink="/stock" class="btn btn-warning mt-2">Ver Stock</a>
      </div>

      <div class="dashboard-card">
        <h3 class="dashboard-card-title">Caja</h3>
        <p class="dashboard-card-value">--</p>
        <a routerLink="/cierre-caja" class="btn btn-primary mt-2">Gestionar Caja</a>
      </div>
    </div>

    <div class="card mt-3">
      <h3 class="card-title">Accesos RÃ¡pidos</h3>
      <div class="flex gap-2">
        <a routerLink="/ventas" class="btn btn-success">Nueva Venta</a>
        <a routerLink="/productos" class="btn btn-primary">Ver Productos</a>
        @if (authService.isAdmin()) {
          <a routerLink="/usuarios" class="btn btn-warning">Gestionar Usuarios</a>
        }
      </div>
    </div>
  }
    </div>
  </div>
</app-layout>
